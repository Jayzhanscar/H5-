<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>换能博士</title>
    <link rel="stylesheet" href="index.css"/>

</head>
<body style="background-color: #f2f2f2" onmousewheel="return false;">
<div id='p1' style="text-align: center;background-color: #F2F2F2;height: 100%;display: none">


    <div style="text-align: center;">
        <img src="img/111.jpeg"  width="30%">

    </div>
    <div><img width="50%" style="margin-top: 5%" src="img/222.jpeg"></div>
    <div> <img width="50%" style="margin-top: 20%" src="img/ddd.jpeg"></div>
    <div onclick="change(1)"> <img  width="50%" style="margin-top: 30%" src="img/444.jpeg"></div>


</div>
<div id="p2" style="width: 100%;height: 100%;display: block; position: absolute;background-size:100% 100%; background-image: url(img/chushi.png)">
    <img src="img/logo.png" style="position: absolute;
    bottom: 57%;
    width: 62%;
    right: 49%;
"/>
    <img src="img/ziti.png" style=" position: absolute;
    bottom: 51%;
    width: 74%;
    right: 12%;
"/>
    <img  class="shake-slow shaker" src="img/dou.png" style=" position: absolute;
    bottom: 17%;
    width: 102%;
    height: 80%;
    right: -17%;
"/>
    <img  id="finger" class="ballon" src="img/手指.png" style="position: absolute;
    bottom: 7%;
    width: 14%;
    right: 19%;
"/>
    <div id="id" style="  width: 20%;
          height: 10%;

          position: absolute;
          left: 40%;
          bottom: 1%;
            display: block"><img class="moni" width="70%" src="img/dianji.png"></div>
</div>
<div id="p3" style="display: none">
    <img src="img/画面1改.gif" width="100%">
</div>
<div id="p4" style="display: none">
    <img src="img/1538880992823853-(2)(1).gif" width="100%">
</div>
<div id="p5" style="display: none">
    <img src="img/11538880992823853-(3).gif" width="100%">
</div>
<div id="p6" style="display: none">
    <img src="img/1538880992823853-(4)(1).gif" width="100%">
</div>

<div id="p7" style="width: 114%;
    height: 106%;
    display: none;
    position: absolute;
    margin-left: -8%;
    background-size: 100% 100%;
    background-image: url(img/229.png);
    margin-top: -7%;">

</div>
<div id="p8" style="width:100%;height:100%;display: none;position: absolute;background-size:100% 100%; background-image: url(img/3232.png)">


    <a  id="photo" href="javascript:;" class="a-upload ballon" style=" width: 20%;
    position: absolute;
    bottom: 8%;
    text-decoration: none;
    color: black;
     margin-left: 36%;
     line-height: 28px;
text-align: center">
        <input  id="btn_camera" type="file" accept="image/*"   onchange="onTake()">点击拍照

    </a>
    <img  id='code' src="img/1539028809.png" style="position: absolute;bottom: 3%;width: 40%;display: none;margin-left: 29%;z-index: 999">

    <img  id="image"   style="opacity:0.5;height:17%;width: 25%;bottom: 37%;position: absolute;margin-left: -26%;border-bottom-left-radius: 50%;border-bottom-right-radius: 50px;"/>
</div>

<audio src="http://img.tukuppt.com/preview_music/00/00/01/seemp3-5ba0b1926cb034414.mp3" id="myaudio"   controls autoplay loop="true" hidden="true"></audio>
<audio src="http://img.tukuppt.com/origin_music/00/07/60/pd-5b7a1e7c1c10c847.mp3" id="power"></audio>
<audio src="http://img.tukuppt.com/preview_music/00/00/06/seemp3-5ba0b0f99a0257485.mp3" id="dong"> </audio>
</body>
<script type="text/javascript" src="http://lib.sinaapp.com/js/jquery/1.9.1/jquery-1.9.1.min.js"></script>
<script>

        function change(num) {
            console.log(num);
            if (num == 1) {
                $('#p1').css('display', 'none');
                $('#id').css('display', 'block');
                $('#p2').css('display', 'block');
            }
        }


//        var _x_start, _y_start, _x_move, _y_move, _x_end, _y_end, left_start, top_start;
//        document.getElementById("id").addEventListener("touchstart", function (e) {
//
//            _x_start = e.touches[0].pageX;
//            _y_start = e.touches[0].pageY;
//            // console.log("start",_x_start)
//            left_start = $("#id").css("left");
//            top_start = $("#id").css("top");
//
//        })
//        document.getElementById("id").addEventListener("touchmove", function (e) {
//            _x_move = e.touches[0].pageX;
//            _y_move = e.touches[0].pageY;
//            // console.log("move",_x_move)
//            $("#id").css("left", parseFloat(_x_move) - parseFloat(_x_start) + parseFloat(left_start) + "px");
//            $("#id").css("top", parseFloat(_y_move) - parseFloat(_y_start) + parseFloat(top_start) + "px");
//            console.log(parseFloat(_y_move) - parseFloat(_y_start) + parseFloat(top_start));
//            if (parseInt(parseFloat(_y_move) - parseFloat(_y_start) + parseFloat(top_start)) < $("#finger").offset().top) {
//
//
//
//
//
//            }
//        });
//        document.getElementById("id").addEventListener("touchend", function (e) {
//            var _x_end = e.changedTouches[0].pageX;
//            var _y_end = e.changedTouches[0].pageY;
//            // console.log("end",_x_end)
//        });
//        //阻止浏览器下拉事件
        $('body').on('touchmove', function (event) {
            event.preventDefault();
        });
        // or
        // document.addEventListener('touchmove', function(e){e.preventDefault()}, false);

        function onTake() {
            var file = document.getElementById("btn_camera").files[0];
            var reader = new FileReader();
            reader.onload = function (e) {
                document.getElementById("image").src = e.target.result;
            };
            reader.readAsDataURL(file);

            $('#code').css('display', 'block')
        }


        var timeOutEvent=0;$(function(){
            $("#id").on({
                touchstart: function(e){
                    timeOutEvent = setTimeout("longPress()",500);
                    e.preventDefault();
                    },
                touchmove: function(){
                    clearTimeout(timeOutEvent);
                    timeOutEvent = 0;
                    },		touchend: function(){
                    clearTimeout(timeOutEvent);
                    if(timeOutEvent!=0){
                        console.log("你这是点击，不是长按");
                    } 			return false; 		}
            })});
        function longPress(){
            timeOutEvent = 0;
            $('#power')[0].play();
            $('#myaudio')[0].pause();

            var RR = window.setTimeout(function () {
                $('#dong')[0].play()
                $('#p1').css('display', 'none');
                $('#p2').css('display', 'none');
                $('#p3').css('display', 'block');
                var t2 = window.setTimeout(function () {
                    $('#p3').css('display', 'none');
                    $('#p4').css('display', 'block');
                    var t3 = window.setTimeout(function () {
                        $('#p4').css('display', 'none');
                        $('#p5').css('display', 'block');
                        var t4 = window.setTimeout(function () {
                            $('#p5').css('display', 'none');
                            $('#p6').css('display', 'block');
                            var t4 = window.setTimeout(function () {
                                $('#p6').css('display', 'none');
                                $('#p7').css('display', 'block');
                                $('#p5').css('display', 'none');
                                var t4 = window.setTimeout(function () {
                                    $('#myaudio')[0].play();
                                    $('#dong')[0].pause()
                                    $('#p6').css('display', 'none');
                                    $('#p7').css('display', 'none');
                                    $('#p5').css('display', 'none');
                                    $('#p8').css('display', 'block');



                                }, 2000);//使用字符串执行方法


                            }, 6000);//使用字符串执行方法


                        }, 6000);//使用字符串执行方法

                    }, 6000);//使用字符串执行方法

                }, 6000)

            }, 6000);//使用字符串执行方法

        }

        $('#myaudio')[0].play();
        $('#dong')[0].pause()



</script>
</html>